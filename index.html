<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAObus - Smart Transit</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="app-background"></div>
    <div class="main-wrapper">
        <div class="top-taskbar">
            <div class="logo-container">
                <img src="logo.png" alt="GAObus Logo" class="app-logo">
            </div>
            <div class="top-right-actions">
                <div class="notification-bell" onclick="toggleNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notification-count">2</span>
                    <div class="notifications-dropdown" id="notifications-dropdown">
                        <h4>Notifications</h4>
                        <ul>
                            <li>Upcoming: Bus 101 in 5 mins</li>
                            <li>Your complaint about Bus 102 is being reviewed.</li>
                        </ul>
                    </div>
                </div>
                <div class="profile-box" onclick="toggleProfileMenu()">
                    <i class="fas fa-user-circle"></i>
                    <span id="profile-status">Register/Login</span>
                    <div class="profile-dropdown" id="profile-dropdown">
                        <button onclick="showSection('user-selection')">Register / Login</button>
                        </div>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div id="user-selection" class="section hidden initial-hide">
                <h2>Select Your Role</h2>
                <button onclick="selectRole('commuter')">Commuter</button>
                <button onclick="selectRole('conductor')">Conductor</button>
                <button onclick="selectRole('municipal')">Municipal Corporation</button>
                <button onclick="backToDashboard()">Back to Dashboard</button>
            </div>

            <div id="commuter-login" class="section hidden">
                <h3>Commuter Login</h3>
                <input type="tel" id="commuter-phone" placeholder="Enter phone number" required>
                <button onclick="loginCommuter()">Login</button>
                <button onclick="backToSelection()">Back</button>
            </div>

            <div id="conductor-register" class="section hidden">
                <h3>Conductor Register</h3>
                <input type="text" id="bus-id" placeholder="Bus Registration Number" required>
                <input type="text" id="fare-chart" placeholder="Fare Chart (e.g., A-B: â‚¹10)" required>
                <button onclick="registerConductorBus()">Register</button>
                <button onclick="backToSelection()">Back</button>
            </div>

            <div id="municipal-login" class="section hidden">
                <h3>Municipal Login</h3>
                <input type="text" id="employee-id" placeholder="Enter Employee ID" required>
                <button onclick="loginMunicipal()">Login</button>
                <button onclick="backToSelection()">Back</button>
            </div>

            <div id="dashboard-section" class="section active-content">
                <h2>Dashboard</h2>
                <div class="dashboard-grid">
                    <div class="dashboard-card map-card">
                        <h4>Map Overview</h4>
                        <img src="https://via.placeholder.com/400x200?text=Map+Placeholder" alt="Map" class="dashboard-map">
                    </div>
                    <div class="dashboard-card">
                        <h4>Active Buses</h4>
                        <p>Total: <span>35</span> <i class="fas fa-bus"></i></p>
                    </div>
                    <div class="dashboard-card">
                        <h4>Delayed Buses</h4>
                        <p>Currently: <span class="text-red">5</span> <i class="fas fa-exclamation-triangle"></i></p>
                    </div>
                    <div class="dashboard-card">
                        <h4>Avg. Wait Time</h4>
                        <p><span>7</span> mins <i class="fas fa-clock"></i></p>
                    </div>
                     <div class="dashboard-card full-width">
                        <h4>Nearby Bus Stops</h4>
                        <ul>
                            <li>Stop 1 (50m) <i class="fas fa-map-marker-alt"></i></li>
                            <li>Stop 2 (200m) <i class="fas fa-map-marker-alt"></i></li>
                            <li>Stop 3 (500m) <i class="fas fa-map-marker-alt"></i></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="live-tracker-section" class="section hidden-content">
                <h2>Live Tracker</h2>
                <div class="route-selection-form">
                    <label for="live-from-location">From:</label>
                    <select id="live-from-location">
                        <option value="A">Location A</option>
                        <option value="B">Location B</option>
                        <option value="C">Location C</option>
                    </select>
                    <label for="live-to-location">To:</label>
                    <select id="live-to-location">
                        <option value="D">Location D</option>
                        <option value="E">Location E</option>
                        <option value="F">Location F</option>
                    </select>
                    <button onclick="findLiveBuses()">Find Buses</button>
                </div>
                <div id="live-bus-results" class="bus-results">
                    </div>
                 <div id="live-bus-details" class="bus-details-view hidden-content">
                    <h3 id="live-bus-title"></h3>
                    <p><strong>Route:</strong> <span id="live-bus-path"></span></p>
                    <p><strong>Time Left:</strong> <span id="live-arrival-time"></span></p>
                    <p id="live-bus-status-text"></p>
                    <button onclick="backToLiveTrackerResults()">Back to Results</button>
                </div>
            </div>

            <div id="route-tracker-section" class="section hidden-content">
                <h2>Route Tracker</h2>
                <div class="route-map-container">
                    <img src="https://via.placeholder.com/600x400?text=Live+Route+Map" alt="Route Map" class="route-map">
                    <p class="map-caption">Buses arriving nearby:</p>
                    <ul class="nearby-buses-list">
                        <li>Bus 105: 2 mins (Stop X)</li>
                        <li>Bus 107: 4 mins (Stop Y)</li>
                    </ul>
                </div>
            </div>

            <div id="complaint-section" class="section hidden-content">
                <h2>Complaint / Feedback</h2>
                <div class="complaint-form">
                    <h4>Report an issue:</h4>
                    <select id="issue-type">
                        <option value="">Select Issue Type</option>
                        <option value="accident">Report an Accident</option>
                        <option value="delayed">Frequently Delayed Bus</option>
                        <option value="overcrowding">Overcrowding on Bus Stop</option>
                        <option value="incorrect_display">Incorrect Bus Displayed</option>
                        <option value="route_optimisation">Route Optimisation Suggestion</option>
                        <option value="inappropriate_behavior">Inappropriate Behavior in Bus</option>
                        <option value="other">Other (please specify)</option>
                    </select>
                    <textarea id="complaint-details" placeholder="Provide more details..." rows="5"></textarea>
                    <button onclick="submitComplaint()">Submit Complaint</button>
                </div>
            </div>

            <div id="about-section" class="section hidden-content">
                <h2>About GAObus</h2>
                <p>Developed by <strong>The Runtime Rebels, Banasthali Vidyapith</strong></p>
                <img src="logo.png" alt="App Logo" class="about-logo">
                <p>GAObus is designed to revolutionize urban transit, providing commuters with real-time bus tracking, occupancy levels, and a seamless reporting system. For conductors, it offers an easy way to update bus status, while municipal corporations gain oversight into fleet performance and commuter feedback. Our goal is to make public transportation smart, efficient, and user-friendly.</p>
                <p>Proudly serving the <strong>Government of Punjab</strong>.</p>
            </div>
             <div id="conductor-dashboard" class="section hidden-content">
                <h2>Conductor Dashboard</h2>
                <p>Bus ID: <span id="registered-bus-id">N/A</span></p>
                <p>Update occupancy level at your current stop:</p>
                <div class="occupancy-buttons">
                    <button class="occupancy-btn green" onclick="updateOccupancy('green')">Green (Empty)</button>
                    <button class="occupancy-btn orange" onclick="updateOccupancy('orange')">Orange (Moderate)</button>
                    <button class="occupancy-btn red" onclick="updateOccupancy('red')">Red (Full)</button>
                </div>
                <p id="occupancy-status">Status: Waiting for update...</p>
                <button onclick="showSection('dashboard-section');">Back to Main</button>
            </div>

            <div id="municipal-dashboard" class="section hidden-content">
                <h2>Municipal Corporation Dashboard</h2>
                <h4>Bus Status Overview</h4>
                <div id="municipal-bus-status-list"></div>
                <hr>
                <h4>Commuter Complaints</h4>
                <ul id="municipal-complaint-list"></ul>
                <button onclick="showSection('dashboard-section');">Back to Main</button>
            </div>

        </div> <div class="bottom-taskbar">
            <button class="nav-button active" onclick="showContent('dashboard-section', this)">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </button>
            <button class="nav-button" onclick="showContent('live-tracker-section', this)">
                <i class="fas fa-map-marker-alt"></i> Live Tracker
            </button>
            <button class="nav-button" onclick="showContent('route-tracker-section', this)">
                <i class="fas fa-route"></i> Route Tracker
            </button>
            <button class="nav-button" onclick="showContent('complaint-section', this)">
                <i class="fas fa-exclamation-circle"></i> Complaint
            </button>
            <button class="nav-button" onclick="showContent('about-section', this)">
                <i class="fas fa-info-circle"></i> About
            </button>
        </div>
    </div> <script src="script.js"></script>
</body>
</html>
